<script type="text/javascript"
        src="https://cdn.bitmovin.com/player/web/8/bitmovinplayer.js"></script>
<!--<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1333.0.min.js"></script>-->
<script type="text/javascript" src="js/demo.js"></script>
<script src="js/aws-sdk.js"></script>
<div>
    <div class="row">
        <div class="col-lg-7">
            <ul class="mb-4">
	            <li>Step 1: List source/input VOD mezzanine files from S3 bucket</li>
	            <p>
					List the available input mezzanine files copied into a source S3 bucket. User can select one
					of the available files as encoding/transcoding input.
	            </p>
				<div class="demo-input-box input">
					<div class="demo-item-header">
						<div>Select Source Asset</div>
					</div>
					<div class="demo-select-target">
						<select id="available_targets" class="form-control" name="available-targets">
						</select>
					</div>
					<br>
					<input type="button" id="start-encoding-button" value="Start" class="btn btn-outline-primary"/>
				</div>
            </ul>
        </div>
        <div class="col-lg-4">
	        <h4>Demo Architecture</h4>
	        <a href="https://apac-inputs.s3.ap-southeast-1.amazonaws.com/demo/demo-architecture.png"
	           data-featherlight="image">
		        <img class="w-100"
		             src="https://apac-inputs.s3.ap-southeast-1.amazonaws.com/demo/demo-architecture.png"/>
	        </a>
        </div>
    </div>
	<div class="row">
	    <div class="col-lg-7">
		    <ul class="mp-4">
			    <li>Step 2: Start VOD Encoding and Monitoring Progress</li>
			    <p>
					To initiate the encoding process, we will trigger an AWS Lambda function through REST APIs
					deployed using AWS API Gateway. The lambda function will use Bitmovin encoding APIs to create,
					start and monitor VOD encoding. Bitmovin API will spawn EC2 instances to perform encoding, which
					will copy the input mezzanine file from S3 bucket, transcode, package as per input required by
					AWS Mediatailor and upload the encoded output to an S3 bucket. The lambda function will also use
					AWS MediaTailor to stitch an Ad or bumper into the packaged VOD content as pre-roll.
					Detailed encoding progress can also be monitored on Bitmovin dashboard
				    <a href="https://bitmovin.com/dashboard">(https://bitmovin.com/dashboard)</a>.
				    Please wait until the encoding status is displayed as "FINISHED."
			    </p>
				<div class="demo-input-box input">
					<div class="demo-item-header">
						<div>Encoding Status</div>
					</div>
                    <label class="text-label"><strong>Asset : </strong></label>
                    <label class="text-label" id="encoding-asset">...</label>
                    <br>
					<label class="text-label"><strong>Id : </strong></label>
					<label class="text-label" id="encoding-id">...</label>
					<br>
					<label class="text-label"><strong>State : </strong></label>
					<label class="text-label" id="encoding-state">...</label>
					<br>
					<label for="encoding-progress"><strong>Progress : </strong></label>
					<progress id="encoding-progress" max="100" value="0"> 0% </progress>
					<br>
					<a id="encoding-dashboard" href="https://bitmovin.com/dashboard/encoding/home" target=”_blank” class="btn btn-outline-primary">
						Open Dashboard
					</a>

				</div>
		    </ul>
	    </div>
    </div>
	<div class="row">
		<div class="col-lg-7">
			<ul class="mp-4">
				<li>Step 3: Automated Workflow for SSAI Manifest</li>
				<p>
					The encoding process is complete, and packaged HLS/DASH content including pre-roll Advertisement
					stitched using AWS MediaTailor is available in S3 bucket now. The content can be streamed to
					viewers across the world using AWS cloudfront CDN.
				</p>
			</ul>
		</div>
	</div>
    <div class="row">
	    <h3 class="mb-4">SSAI Playback with Bitmovin Player</h3>
	    <p>
		    It is now time to play the SSAI manifest, which can be done using Bitmovin Player.
		    The left column of the web application will display the player screen while the
		    right column will showcase the player log, which demonstrates the events related
			to Advertisement extracted from the SSAI stream via metadata added to the stream
			by Bitmovin encoder/packager and AWS Mediatailor.
	    </p>
        <div class="col-lg-6 player-col">
            <div id="player-wrapper">
                <div id="player">
                    <div id="player-container"></div>
                </div>
            </div>

        </div>
	    <div class="col-lg-6 code-col">
		    <div id="control-log"></div>
	    </div>
    </div>
</div>
